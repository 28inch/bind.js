var Bind=function t(e){"use strict";function r(t,e){for(var r=t.length,n=0;r>n;n++)e(t[n],n,t)}function n(t,e){var n="pop push reverse shift sort splice unshift".split(" ");this.__callback=function(){return t.apply(this,arguments)},r(n,function(t){this[t]=function(){var r=this.slice(0);this.__dirty=!0;var n=c[t].apply(this,arguments);return this.__callback&&e.ready&&this.__callback.call(this,this.slice(0),r),delete this.__dirty,n}}.bind(this));var i=this.length;return Object.defineProperty(this,"length",{configurable:!1,enumerable:!0,set:function(t){if(this.__dirty)return void(i=t);var e=1*t;return i!==e&&(e>i?this.push.apply(this,new Array(e-i)):this.splice(e),i=e),t},get:function(){return i}}),this}function i(t,e,s,c,f){return c||(c=[]),r(Object.getOwnPropertyNames(e),function(p){var h,y=e[p],d=[].slice.call(c),v=u,b=u;d.push(p);var _=s.mapping[d.join(".")];if(_&&"[object Object]"===_.toString()&&(_.callback&&(h=_.callback),_.transform&&(v=l(_.transform)),_.parse&&(b=l(_.parse)),_=_.dom),"function"==typeof _)h=_;else if("string"==typeof _){var m=a(_||"☺");0===m.length&&console.warn('No elements found against "'+_+'" selector');var g=["SELECT","INPUT","PROGRESS"],A=h;h=function(e){m=a(_||"☺"),m&&r(m,function(t){if(!t.__dirty)if(-1!==g.indexOf(t.nodeName))t.value=v(e);else{e instanceof Array||(e=[e]);var n="";r(e,function(t){n+=v(t)}),t.innerHTML=n}}),A&&A.apply(t,arguments)},r(m,function(e){("INPUT"===e.nodeName||"SELECT"===e.nodeName)&&e.addEventListener("input",function(){this.__dirty=!0;var e;e=b("number"==typeof t[p]?1*this.value:this.value),void 0===e&&(e=this.value),t[p]=e,this.__dirty=!1})})}var k={configurable:!0,enumerable:!0,set:function(e){var r,a=y!==e?y:void 0,c=f instanceof n;if(c&&(r=f.slice(0)),s.ready&&typeof e===o&&null!==e&&!Array.isArray(e))y=i(t[p]||{},e,s,d,t);else if(Array.isArray(e)){var u=new n(h,s);u.push.apply(u,e),y=u}else y=e;var l=function(t,e,n,i,a){t&&t(e,n),f&&f.__callback&&f.__callback(f,r)}.bind(null,h,y,a,t,c);t instanceof Object&&(t.__callback=l),s.ready&&h?l():h?s.deferred.push(l):s.ready&&c&&f.__callback&&f.__callback(f,r)},get:function(){return y}};try{Object.defineProperty(t,p,k)}catch(O){}typeof y!==o||null===y||Array.isArray(y)?Array.isArray(y)?t[p]=i(new n(h,s),y,s,d,t):t instanceof n||(t[p]=y):t[p]=i(t[p]||{},y,s,d,t)}),t instanceof n&&t.push.apply(t,e),t}function t(n,a){if(!this||this===e)return new t(n,a);var s={mapping:a,deferred:[],ready:!1};return i(this,n,s),s.ready=!0,s.deferred.length&&r(s.deferred,function(t){t.call(this)}.bind(this)),this}if(!Function.bind)throw new Error("Prerequisite APIs not available: Function.bind");var a;try{a=document.querySelectorAll.bind(document)}catch(s){}var c=[],o="object",u=function(t){return t},l=function(t){return function(){try{return t.apply(this,arguments)}catch(e){console.error(e.stack?e.stack:e)}}};return n.prototype=[],t.prototype.__export=function(){function e(n,i){return r(Object.getOwnPropertyNames(i),function(r){var a=i[r];t.prototype[r]||(typeof a!==o||null===a||Array.isArray(a)?n[r]=a:n[r]=e(n[r]||{},a))}),n}return e({},this)},t}(this);"undefined"!=typeof exports&&(module.exports=Bind);